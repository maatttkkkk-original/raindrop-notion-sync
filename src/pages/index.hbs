<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raindrop/Notion Sync</title>
  
  <link rel="stylesheet" href="/public/styles/design-system.css?v=2024-05-28-001">
  <link rel="stylesheet" href="/public/styles/components.css?v=2024-05-28-001">
  <link rel="stylesheet" href="/public/styles/dashboard.css?v=2024-05-28-001">
</head>
<body>
  <main class="dashboard-8-section" id="main-content" role="main">
    <!-- Section 1: Title -->
    <div class="dashboard-section section-1 bg-white">
      <div class="section-content">
        <h1 class="text-huge">Raindrop/Notion Sync</h1>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 2: Raindrop Count -->
    <div class="dashboard-section section-2 bg-white" id="raindrop-section">
      <div class="section-content">
        <div class="count-display {{#if isSynced}}synced{{else}}not-synced{{/if}}" id="raindropCount">
          <span class="text-huge {{#if isSynced}}text-green{{else}}text-red{{/if}}" id="raindrop">
            {{raindropTotal}} Raindrop Bookmarks
          </span>
        </div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 3: Notion Count -->
    <div class="dashboard-section section-3 bg-white" id="notion-section">
      <div class="section-content">
        <div class="count-display {{#if isSynced}}synced{{else}}not-synced{{/if}}" id="notionCount">
          <span class="text-huge {{#if isSynced}}text-green{{else}}text-red{{/if}}" id="notion">
            {{notionTotal}} Notion Pages
          </span>
        </div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 4: Status Message -->
    <div class="dashboard-section section-4 {{#if isSynced}}bg-green{{else}}bg-red{{/if}}" id="status-section">
      <div class="section-content">
        <div class="status-message" id="statusMessage">
          <span class="text-huge text-white" id="status">
            {{#if isSynced}}
              Synced
            {{else}}
              {{diff}} Not Synced
            {{/if}}
          </span>
        </div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 5: Primary Action (Smart Sync) -->
    <div class="dashboard-section section-5 bg-white" id="primary-action-section">
      <div class="section-content">
        <form action="/sync" method="get" style="display:inline;">
          <input type="hidden" name="password" value="{{password}}">
          <input type="hidden" name="mode" value="smart">
          <button type="submit" class="section-action-button text-huge text-black" id="primaryAction">
            Smart Sync 
          </button>
        </form>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 6: Secondary Action (Full Sync) -->
    <div class="dashboard-section section-6 bg-white" id="secondary-action-section">
      <div class="section-content">
        <form action="/sync" method="get" style="display:inline;">
          <input type="hidden" name="password" value="{{password}}">
          <input type="hidden" name="mode" value="full">
          <button type="submit" class="section-action-button text-huge text-black" id="secondaryAction">
            Full Sync 
          </button>
        </form>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 7: Log Area -->
    <div class="dashboard-section section-7 bg-white log-section" id="log-section">
      <div class="section-content">
        <div id="status" class="status-display" role="log" aria-live="polite" style="display: none;"></div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 8: Back Button -->
    <div class="dashboard-section section-8 bg-light-gray back-section">
      <div class="section-content">
        <a href="/" class="back-button text-large">Back â†º</a>
      </div>
    </div>
    
    <!-- Hidden Status Indicator for JS compatibility -->
    <div 
      id="indicator"
      class="status-indicator {{#if isSynced}}synced{{else}}not-synced{{/if}}" 
      role="img" 
      aria-label="{{#if isSynced}}Synced{{else}}Not synced{{/if}} status indicator"
      style="display: none;"
    ></div>
  </main>

  <script src="/public/scripts/utils.js"></script>
  <script src="/public/scripts/sync.js"></script>
  <script src="/public/scripts/enhancements.js"></script>
</body>
</html>