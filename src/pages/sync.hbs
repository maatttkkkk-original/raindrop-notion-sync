<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{#if (eq mode "full")}}Full Sync{{else}}Smart Sync{{/if}} - Raindrop Notion</title>
  
  <link rel="stylesheet" href="/public/styles/design-system.css?v=2024-05-28-001">
  <link rel="stylesheet" href="/public/styles/components.css?v=2024-05-28-001">
  <link rel="stylesheet" href="/public/styles/dashboard.css?v=2024-05-28-001">
</head>
<body>
  <main class="dashboard-8-section" id="main-content" role="main">
    <!-- Section 1: Dynamic Title -->
    <div class="dashboard-section section-1 bg-white">
      <div class="section-content">
        <h1 class="text-huge sync-title" id="sync-title">
          {{#if (eq mode "full")}}Full Sync{{else}}Smart Sync{{/if}}
        </h1>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 2: Dynamic Action Button -->
    <div class="dashboard-section section-2 {{#if (eq mode "full")}}bg-green{{else}}bg-yellow{{/if}}" id="action-section">
      <div class="section-content">
        <button id="syncBtn" class="section-action-button text-huge {{#if (eq mode "full")}}text-white{{else}}text-black{{/if}}" type="button">
          {{#if (eq mode "full")}}Start Full Sync{{else}}Start Smart Sync{{/if}}
        </button>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 3: Compact Status + Progress -->
    <div class="dashboard-section section-3 bg-white" id="compact-status-section">
      <div class="section-content">
        <div class="compact-status">
          <span id="progress-text">{{#if (eq mode "full")}}Ready for full sync (all bookmarks)...{{else}}Ready for smart sync (recent bookmarks)...{{/if}}</span>
          <span class="sync-stats hidden" id="sync-stats">
            • <span id="added-count">0</span> Added • <span id="updated-count">0</span> Updated • <span id="failed-count">0</span> Failed
          </span>
          {{#if (eq mode "full")}}
          <span class="text-green">✅ Processes all bookmarks (create + update only)</span>
          {{else}}
          <span class="text-green">⚡ Processes recent bookmarks only (fast)</span>
          {{/if}}
        </div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Sections 4-7: MASSIVE LOG AREA (4 sections combined) -->
    <div class="dashboard-section section-4567 bg-white log-section-massive" id="log-section">
      <div class="section-content">
        <div 
          id="status" 
          class="status-display massive-log"
          role="log" 
          aria-live="polite" 
          aria-label="Sync progress updates">
        </div>
      </div>
    </div>
    
    <div class="dashboard-divider"></div>
    
    <!-- Section 8: Back Button -->
    <div class="dashboard-section section-8 bg-light-gray back-section">
      <div class="section-content">
        <a href="/?password={{password}}" class="back-button text-large">Back ↺</a>
      </div>
    </div>
  </main>

  <script src="/public/scripts/utils.js"></script>
  <script src="/public/scripts/sync.js"></script>
  <script src="/public/scripts/enhancements.js"></script>
</body>
</html>