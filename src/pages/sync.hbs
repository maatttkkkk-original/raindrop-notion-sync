<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{#if (eq mode "reset")}}Reset & Full Sync{{else if (eq mode "incremental")}}Incremental Sync{{else}}Smart Sync{{/if}} - Raindrop Notion</title>
  
<link rel="stylesheet" href="/styles/design-system.css?v=2024-12-17-001">
<link rel="stylesheet" href="/styles/components.css?v=2024-12-17-001">
<link rel="stylesheet" href="/styles/dashboard.css?v=2024-12-17-001">
</head>
<body>
  <div class="container">
    <main class="dashboard-8-section" id="main-content" role="main">
      <!-- Section 1: Title -->
      <div class="dashboard-section section-1 bg-white">
        <div class="section-content">
          <a href="/?password={{password}}" class="back-button">‚Üê Back to Dashboard</a>
          <h1 class="text-huge sync-title" id="sync-title">
            {{#if (eq mode "reset")}}
              Reset & Full Sync
            {{else if (eq mode "incremental")}}
              Incremental Sync
            {{else}}
              Smart Sync
            {{/if}}
          </h1>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 2: Action Button -->
      <div class="dashboard-section section-2 bg-yellow" id="action-section">
        <div class="section-content">
          <button id="syncBtn" class="action-button primary text-huge" type="button">
            {{#if (eq mode "reset")}}
              Start Reset & Full Sync
            {{else if (eq mode "incremental")}}
              Start Incremental Sync
            {{else}}
              Start Smart Sync
            {{/if}}
          </button>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 3: Status/Progress -->
      <div class="dashboard-section section-3 bg-white" id="status-progress-section">
        <div class="section-content">
          <div id="progress-text" class="text-large">
            {{#if (eq mode "reset")}}
              Delete all Notion pages and recreate from Raindrop
            {{else if (eq mode "incremental")}}
              Sync only recent bookmarks ({{daysBack}} days)
            {{else}}
              Smart analysis - only sync what needs to change
            {{/if}}
          </div>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 4: Additional Info -->
      <div class="dashboard-section section-4 bg-white" id="info-section">
        <div class="section-content">
          <div class="sync-progress" id="progress-section">
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text" id="progress-text">Ready to sync...</div>
          </div>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 5: Stats/Efficiency -->
      <div class="dashboard-section section-5 bg-white" id="stats-section">
        <div class="section-content">
          <div class="sync-stats" id="sync-stats" style="display: none;">
            <div class="stat-group">
              <div class="stat-item">
                <span class="stat-number" id="added-count">0</span>
                <span class="stat-label">Added</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="updated-count">0</span>
                <span class="stat-label">Updated</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="deleted-count">0</span>
                <span class="stat-label">Deleted</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="skipped-count">0</span>
                <span class="stat-label">Skipped</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 6: Completion/Results -->
      <div class="dashboard-section section-6 bg-white" id="completion-section">
        <div class="section-content">
          <div id="completion-message" class="text-large" style="display: none;"></div>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 7: Log Area -->
      <div class="dashboard-section section-7 bg-white log-section" id="log-section">
        <div class="section-content">
          <div 
            id="status" 
            class="status-display" 
            role="log" 
            aria-live="polite" 
            aria-label="Sync progress updates"
            style="display: none;"
          ></div>
        </div>
      </div>
      
      <div class="dashboard-divider"></div>
      
      <!-- Section 8: Back Button -->
      <div class="dashboard-section section-8 bg-light-gray back-section">
        <div class="section-content">
          <span class="text-large" style="color: #999;">Back to Dashboard</span>
        </div>
      </div>
    </main>
  </div>

  <script src="/public/scripts/utils.js"></script>
  <script src="/public/scripts/sync.js"></script>
  <script src="/public/scripts/enhancements.js"></script>
</body>
</html>